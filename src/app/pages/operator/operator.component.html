<div class="generic-component">
	<div class="container">
		<ng-container *ngIf="page">
			<h1 class="h1 title" [innerHTML]="page.title">-</h1>
			<div class="abstract" [innerHTML]="page.abstract">-</div>
			<div class="description" [innerHTML]="page.description">-</div>
		</ng-container>
		<h2>Accedi</h2>
		<ng-container *ngIf="!sent">
			<form class="form" [ngClass]="{submitted: operator.submitted}" name="operator" role="form" novalidate autocomplete="off" (ngSubmit)="operator.valid && onSubmit()" #operator="ngForm">
				<div class="fieldset">
					<div class="form-group">
						<label>Username</label>
						<input placeholder="Username" type="text" class="form-control" required [(ngModel)]="model.username" name="username" #username="ngModel" autocomplete="username">
						<div *ngIf="username.invalid && (operator.submitted || username.dirty || username.touched)" class="alert alert-danger">
							<div *ngIf="username.errors.required">{{ 'errors.required' | translate }}</div>
						</div>
					</div>
					<div class="form-group">
						<label>{{ 'signUp.password' | translate }}</label>
						<div class="form-password-reveal">
							<input placeholder="{{ 'signUp.password' | translate }}" [type]="passwordReveal.value ? 'text' : 'password'" class="form-control" required [(ngModel)]="model.password" name="password" #password="ngModel" autocomplete="password">
							<div class="checkbox">
								<label class="form-check-label">
									<input type="checkbox" class="form-check-input" [(ngModel)]="model.passwordReveal" name="passwordReveal" #passwordReveal="ngModel">
									<span>{{ 'signUp.passwordReveal' | translate }}</span>
								</label>
							</div>
						</div>
						<div *ngIf="password.invalid && (operator.submitted || password.dirty || password.touched)" class="alert alert-danger">
							<div *ngIf="password.errors.required">{{ 'errors.required' | translate }}</div>
						</div>
					</div>
				</div>
				<br>
				<button type="submit" class="btn btn-primary" [ngClass]="{ disabled: submitted, invalid: !operator.valid, 'btn--busy': busy }" title="{{ 'signUp.register' | translate }}">
					<span>Accedi</span>
				</button>
			</form>
			<div class="alert alert-danger fade show" role="alert" *ngIf="error">
				<strong>{{error.message || error.statusText}}</strong>
			</div>
		</ng-container>
		<ng-container *ngIf="sent">
			<br>
			<p>Accesso effettuato con successo</p>
			<br>
		</ng-container>
	</div>
</div>
<section-value-proposition></section-value-proposition>
