<div class="generic-component">
	<div class="container">
		<h1 class="h1 title">Iscriviti alla newsletter</h1>
		<ng-container *ngIf="!sent">
			<div class="description">Compila i campi con i tuoi dati</div>
			<form class="form" [ngClass]="{ submitted: newsletter.submitted }" name="newsletter" role="form" novalidate autocomplete="off" (ngSubmit)="newsletter.valid && onSubmit()" #newsletter="ngForm">
				<div class="fieldset">
					<div class="form-group">
						<label>{{ 'signUp.firstName' | translate }}</label>
						<input placeholder="{{ 'signUp.firstName' | translate }}" type="text" class="form-control" required [(ngModel)]="model.firstName" name="firstName" #firstName="ngModel" autocomplete="firstName">
						<div *ngIf="firstName.invalid && (newsletter.submitted || firstName.dirty || firstName.touched)" class="alert alert-danger">
							<div *ngIf="firstName.errors.required">{{ 'errors.required' | translate }}</div>
						</div>
					</div>
					<div class="form-group">
						<label>{{ 'signUp.lastName' | translate }}</label>
						<input placeholder="{{ 'signUp.lastName' | translate }}" type="text" class="form-control" required [(ngModel)]="model.lastName" name="lastName" #lastName="ngModel" autocomplete="lastName">
						<div *ngIf="lastName.invalid && (newsletter.submitted || lastName.dirty || lastName.touched)" class="alert alert-danger">
							<div *ngIf="lastName.errors.required">{{ 'errors.required' | translate }}</div>
						</div>
					</div>
					<div class="form-group">
						<label>{{ 'signUp.email' | translate }}</label>
						<input placeholder="{{ 'signUp.email' | translate }}" type="email" class="form-control" required pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}" match="emailConfirm" reverse="true" [(ngModel)]="model.email" name="email" #email="ngModel" autocomplete="email">
						<div *ngIf="email.invalid && (newsletter.submitted || email.dirty || email.touched)" class="alert alert-danger">
							<div *ngIf="email.errors.required">{{ 'errors.required' | translate }}</div>
							<div *ngIf="email.errors.pattern">{{ 'errors.email' | translate }}</div>
						</div>
					</div>
				</div>
				<div class="form-group form-group--errors">
					<h4>Informativa Privacy</h4> 
					<div class="radio">
						<!--<input type="hidden" [(ngModel)]="model.privacy" required name="privacy" #privacy="ngModel">-->
						<div class="label-group">
							<!--<label><input type="radio" class="form-control" name="privacy" [(ngModel)]="model.privacy" [value]="true"><span>acconsento</span></label>
							<label><input type="radio" class="form-control" name="privacy" [(ngModel)]="model.privacy" [value]="null"><span>non acconsento</span></label>-->
							<label><input type="checkbox" class="form-control" name="privacy" [(ngModel)]="model.privacy" [value]="true" #privacy="ngModel" required><span class="form-label">Preso atto dell'<a href="/media/userfiles/files/20180522-Informativa_Newsletter.pdf" target="_blank">informativa</a>, acconsento al trattamento dei miei dati personali ai fini dellâ€™invio di proposte commerciali da parte di Eurospin.</span></label>
						</div>
						
					</div>
					<div *ngIf="privacy.invalid && (newsletter.submitted || privacy.dirty || privacy.touched)" class="alert alert-danger">
						<div *ngIf="privacy.errors.required">{{ 'errors.required' | translate }}</div>
					</div>
				</div>
				<br>
				<button type="submit" class="btn" [ngClass]="{ 'btn--busy': busy }" title="Conferma">
					<span>Iscriviti</span>
				</button>
			</form>
		</ng-container>
		<ng-container *ngIf="sent">
			<br>
			<p>Iscrizione effettuato con successo</p>
			<br>
		</ng-container>
	</div>
</div>
<section-value-proposition></section-value-proposition>
